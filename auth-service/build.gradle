ext {
	httpPort = 8082
	httpsPort = 8482
	appUrl = "http://localhost:${httpPort}/${war.baseName}" 
}

liberty {
	server {
		name = 'auth-service'
		dropins = [war]
		bootstrapProperties = ['httpPort': httpPort, 'httpsPort': httpsPort]
		configDirectory = file('src/main/liberty/config')
	}
}
dependencies {
    compile group: 'io.jsonwebtoken', name: 'jjwt', version: '0.9.0'
    compile group: 'com.google.api-client', name: 'google-api-client', version: '1.23.0'
}


libertyStart.doLast {
	println "Application available at: ${appUrl}"
}

task open {
    doLast {
        java.awt.Desktop.desktop.browse "${appUrl}/token".toURI()
    }
}
