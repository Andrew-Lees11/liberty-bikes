buildscript {
	repositories {
		mavenCentral()
	}
	dependencies {
		classpath 'net.wasdev.wlp.gradle.plugins:liberty-gradle-plugin:2.0.1'
	}
}

subprojects {
	apply plugin: 'liberty'
	apply plugin: 'war'

	sourceCompatibility = 1.8

	buildscript {
		repositories {
			mavenCentral()
		}
		dependencies {
			classpath 'net.wasdev.wlp.gradle.plugins:liberty-gradle-plugin:2.0.1'
		}
	}

	repositories {
		mavenCentral()
	}

	dependencies {
		compileOnly 'javax:javaee-api:7.0'
		libertyRuntime 'io.openliberty:openliberty-runtime:17.0.0.4'
	}
	
	libertyStart.dependsOn 'libertyStop'
	libertyRun.dependsOn 'libertyStop'
	
	task start { dependsOn 'libertyStart' }
	task stop  { dependsOn 'libertyStop' }
}
